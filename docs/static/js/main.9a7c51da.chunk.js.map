{"version":3,"sources":["components/Logo/logo.svg","components/WebKeystore/key.svg","components/Loading/transmute-loading-white.gif","components/Logo/logo-transmute.svg","serviceWorker.js","store/history.js","store/keystore/actions.js","store/keystore/reducer.js","config/index.js","store/keystore/redux.js","store/keystore/handlers.js","store/keystore/index.js","store/keystore/container.js","store/chapi/actions.js","store/chapi/reducer.js","store/chapi/redux.js","store/chapi/handlers.js","store/chapi/index.js","store/chapi/container.js","store/tmui/actions.js","store/tmui/reducer.js","store/tmui/redux.js","store/tmui/handlers.js","store/tmui/index.js","store/tmui/container.js","store/index.js","components/Theme/Theme.js","components/Snackbar/MySnackbarContentWrapper.js","components/Snackbar/Snackbar.js","components/AppBarWithDrawer/AppBarWithDrawer.js","components/AppBarWithDrawer/DrawerContent.js","components/AppBarWithDrawer/rightHandAccountMenu.js","pages/BasePage/BasePage.js","components/JSONEditor/JSONEditor.js","components/CredentialCard/CredentialCard.js","components/WalletContentsTable/CredentialDetailPanel.js","components/WalletContentsTable/WalletContentsTable.js","components/WalletContentsTable/index.js","components/HolderDID/HolderDID.js","components/HolderDID/index.js","pages/HomePage/HomePage.js","pages/HomePage/index.js","components/WebKeystore/ExpansionPanelList.js","components/WebKeystore/KeystoreCard.js","components/WebKeystore/KeystoreLockDialog.js","components/WebKeystore/KeystoreEditor.js","components/WebKeystore/KeystoreEditorDialog.js","components/WebKeystore/WebKeystore.js","pages/KeystorePage/KeystorePage.js","pages/KeystorePage/index.js","components/Loading/Loading.js","pages/chapi/wallet/store/ChapiWalletStore.js","pages/chapi/wallet/store/index.js","pages/chapi/wallet/get/ChapiWalletGet.js","pages/index.js","pages/chapi/wallet/get/index.js","store/create.js","index.js"],"names":["module","exports","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","createBrowserHistory","setKeystoreProp","createAction","payload","initialState","apiRoot","process","handleActions","connect","keystore","actions","keyToDidDoc","didMethodKey","driver","withHandlers","doImportKeystore","data","a","doCreateWalletKeystore","Ed25519KeyPair","generate","ed25519Key","doc","wall","DIDWallet","create","keys","type","encoding","didPublicKeyEncoding","publicKey","publicKeyBase58","privateKey","privateKeyBase58","tags","id","notes","doUpdateKeystore","keystoreString","Object","values","JSON","parse","doDeleteKeystore","doToggleKeystore","password","loading","unlock","message","lock","ciphered","e","reducer","container","compose","withRedux","setChapiProp","wallet","isLoaded","rows","object","chapi","walletObjectToArray","walletContents","loadWalletContents","localStorage","getItem","atob","storeInWallet","verifiablePresentation","vc","verifiableCredential","Array","isArray","uuidv4","serialized","btoa","stringify","setItem","setTmuiProp","isPrimaryDrawerOpen","isSpeedDialogOpen","activeTabIndex","currentRole","label","value","tmui","doToggleSpeedDial","doSelectActiveTab","doFabClick","context","fabClick","router","connectRouter","history","font1","font2","font3","Theme","children","this","props","theme","createMuiTheme","splashImage","palette","primary","light","lighten","main","dark","darken","secondary","typography","useNextVariants","fontSize","fontFamily","join","h1","fontWeight","h2","h3","h4","textTransform","letterSpacing","h5","h6","subtitle1","subtitle2","body1","body2","button","caption","overline","overrides","MuiInput","input","MuiInputLabel","root","MuiAppBar","MuiButton","contained","boxShadow","Component","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","default","useStyles1","makeStyles","backgroundColor","green","amber","icon","iconVariant","opacity","marginRight","spacing","display","alignItems","MySnackbarContentWrapper","classes","className","onClose","variant","other","Icon","SnackbarContent","clsx","aria-describedby","action","IconButton","key","aria-label","color","onClick","TSnackbar","snackBarMessage","vertical","horizontal","open","autoHideDuration","handleClose","event","reason","Snackbar","anchorOrigin","useStyles","grow","flexGrow","drawer","breakpoints","up","width","flexShrink","appBar","marginLeft","menuButton","toolbar","mixins","drawerPaper","sectionDesktop","sectionMobile","content","ResponsiveDrawer","useTheme","React","useState","anchorEl","mobileMoreAnchorEl","Menu","rightHandAccountMenu","map","menuItem","displaySmUp","MenuItem","i","ariaLabel","Badge","badgeContent","CssBaseline","AppBar","position","Toolbar","headerImage","src","alt","headerText","title","style","height","Typography","noWrap","maxWidth","sideMenuPrimaryItem","showForRoles","push","DrawerContent","Fragment","List","filter","indexOf","ListItem","ListItemIcon","ListItemText","BasePage","useEffect","__chapi__run__once","WALLET_LOCATION","origin","workerUrl","WebCredentialHandler","url","credentialManager","hints","set","name","enabledTypes","AppBarWithDrawer","logo","JSONEditor","jsonObject","onChange","mode","readOnly","undefined","wrapEnabled","editorProps","$blockScrolling","excludedCredentialSubjectProperties","excludedCredentialProperties","dateKeys","heading","pxToRem","fontWeightRegular","BasicCard","eSealLookupCancelled","certificates","setcertificates","loadingCerts","setloadingCerts","proofs","proof","eSeal","some","expanded","setExpanded","renderProp","prop","toString","borderRadius","padding","moment","fromNow","wordBreak","paddingLeft","slice","subject","credentialSubject","cmtr","loadCertificates","panel","requestOptions","method","headers","body","fetch","response","json","status","indication","certTree","reports","SimpleReport","signatureOrTimestamp","Signature","CertificateChain","Certificate","entries","index","Box","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","ExpansionPanelDetails","LinearProgress","item","p","borderBottom","marginBottom","certLabel","qualifiedName","k","newExpanded","Grid","image","xs","lg","TabPanel","component","role","hidden","aria-labelledby","a11yProps","CredentialDetailPanel","setValue","Tabs","newValue","Tab","WalletContentsTable","onShare","Button","rowData","withoutMutation","tableData","query","credentialRequestOptions","columns","typeFilterDefault","web","VerifiablePresentation","credentialQuery","example","field","render","_","startCase","length","defaultFilter","customFilterAndSearch","term","challenge","walletRows","options","filtering","search","pageSize","actionsColumnIndex","detailPanel","HolderDID","holder","setState","InputLabel","Select","labelId","target","float","removeItem","reload","credentialHandlerPolyfill","HomePage","loadOnce","withStyles","panels","disabled","card","media","backgroundSize","paddingTop","expand","transform","transition","transitions","duration","shortest","expandOpen","KeystoreStatusIcon","NoteAdd","Create","Lock","LockOpen","keyStoreStatusColor","blue","red","KeystoreCard","subheader","onOpenKeystoreLockDialog","onOpenKeystoreEditDialog","setAnchorEl","Card","multiple","files","file","reader","FileReader","onload","upload","result","readAsText","CardHeader","avatar","Avatar","aria-haspopup","currentTarget","keepMounted","CardMedia","keystoreImage","CardContent","CardActions","document","getElementById","click","endIcon","disableSpacing","filename","text","element","createElement","setAttribute","encodeURIComponent","appendChild","removeChild","download","CloudDownload","aria-expanded","Collapse","in","timeout","unmountOnExit","kid","substring","t","onCopy","alert","Chip","margin","marginTop","fullWidth","KeystoreLockDialog","handleChange","handleSubmit","preventDefault","Dialog","DialogTitle","DialogContent","DialogContentText","onSubmit","TextField","autoFocus","DialogActions","keystoreState","KeystoreEditor","KeystoreEditorDialog","isSetup","maybeNew","fullScreen","WebKeystore","isKeystoreLockDialogOpen","isKeystoreEditDialogOpen","passwordPrompt","getKeystoreContext","KeystorePage","Loading","flex","justifyContent","flexDirection","loadingGif","paragraph","ChapiWalletStore","handleStoreEvent","receiveCredentialEvent","credential","vp","respondWith","Promise","resolve","dataType","getHolderAndVerificationMethod","verificationMethod","Error","getDomainAndChallenge","domain","credentialRequestOrigin","split","pop","ChapiWalletGet","cache","redirect","referrerPolicy","presentation","proofPurpose","signedDIDAuthResponse","thing","PAGES","path","exact","appReducers","persistConfig","whitelist","storage","middlewares","thunk","routerMiddleware","store","createStore","persistReducer","combineReducers","rootReducer","composeWithDevTools","applyMiddleware","withReduxEnhancer","persistor","persistStore","ReactDOM","URL","href","addEventListener","contentType","get","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.9a7c51da.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.786ba058.svg\";","module.exports = __webpack_public_path__ + \"static/media/key.7d03fa36.svg\";","module.exports = __webpack_public_path__ + \"static/media/transmute-loading-white.11fb6556.gif\";","module.exports = __webpack_public_path__ + \"static/media/logo-transmute.e81c37a9.svg\";","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","import { createAction } from \"redux-actions\";\n\nexport const setKeystoreProp = createAction(\n  \"keystore/SET_TMUI_PROP\",\n  payload => payload\n);\n","import { handleActions } from \"redux-actions\";\nimport { setKeystoreProp } from \"./actions\";\n\nimport config from \"../../config\";\n\n// TODO: UPDATE PLACEHOLDER\nconst initialState = {\n  ...config\n};\n\nexport default handleActions(\n  {\n    [setKeystoreProp]: (state, { payload }) => ({ ...state, ...payload })\n  },\n  initialState\n);\n","export default {\n  apiRoot: process.env.REACT_APP_API_ROOT\n};\n","import { connect } from \"react-redux\";\nimport * as actions from \"./actions\";\n\nexport default connect(({ keystore }) => ({ keystore }), { ...actions });\n","import { withHandlers } from \"recompose\";\nimport { Ed25519KeyPair } from \"crypto-ld\";\nimport didMethodKey from \"did-method-key\";\nimport DIDWallet from \"@transmute/did-wallet\";\n\nconst { keyToDidDoc } = didMethodKey.driver();\n\nexport default withHandlers({\n  doImportKeystore: ({ setKeystoreProp }) => async data => {\n    setKeystoreProp({\n      keystore: { data }\n    });\n  },\n  doCreateWalletKeystore: ({ setKeystoreProp }) => async () => {\n    const ed25519Key = await Ed25519KeyPair.generate();\n    const doc = keyToDidDoc(ed25519Key);\n    const wall = DIDWallet.create({\n      keys: [\n        {\n          type: \"assymetric\",\n          encoding: \"base58\",\n          didPublicKeyEncoding: \"publicKeyBase58\",\n          publicKey: ed25519Key.publicKeyBase58,\n          privateKey: ed25519Key.privateKeyBase58,\n          tags: [\"Ed25519VerificationKey2018\", doc.publicKey[0].id, \"web\"],\n          notes: \"\"\n        }\n      ]\n    });\n    setKeystoreProp({\n      keystore: {\n        data: {\n          keys: wall.keys\n        }\n      }\n    });\n  },\n  doUpdateKeystore: ({ setKeystoreProp }) => async keystoreString => {\n    const wall = DIDWallet.create({\n      keys: Object.values(JSON.parse(keystoreString))\n    });\n    setKeystoreProp({\n      keystore: {\n        data: {\n          keys: wall.keys\n        }\n      }\n    });\n  },\n  doDeleteKeystore: ({ setKeystoreProp }) => async () => {\n    setKeystoreProp({\n      keystore: null\n    });\n  },\n  doToggleKeystore: ({ keystore, setKeystoreProp }) => async password => {\n    setKeystoreProp({ loading: true });\n    try {\n      let message;\n      if (typeof keystore.keystore.data === \"string\") {\n        const wall = DIDWallet.create(keystore.keystore.data);\n        wall.unlock(password);\n        setKeystoreProp({\n          keystore: {\n            data: {\n              keys: wall.keys\n            }\n          }\n        });\n        message = \"Unlocked keystore.\";\n      } else {\n        const wall = DIDWallet.create({\n          keys: Object.values(keystore.keystore.data.keys)\n        });\n        wall.lock(password);\n        setKeystoreProp({\n          keystore: {\n            data: wall.ciphered\n          }\n        });\n        message = \"Locked keystore.\";\n      }\n      console.log(message);\n    } catch (e) {\n      console.error(e);\n    }\n    setKeystoreProp({ loading: false });\n  }\n});\n","import reducer from './reducer';\nimport container from './container';\n\n// export { reducer, container };\n\nexport default {\n  reducer,\n  container,\n};\n","import { compose } from 'recompose';\nimport withRedux from './redux';\nimport withHandlers from './handlers';\n\nexport default compose(withRedux, withHandlers);\n","import { createAction } from \"redux-actions\";\n\n// TODO: UPDATE PLACE HOLDER\nexport const setChapiProp = createAction(\n  \"chapi/SET_CHAPI_PROP\",\n  payload => payload\n);\n","import { handleActions } from \"redux-actions\";\nimport { setChapiProp } from \"./actions\";\n\n// TODO: UPDATE PLACEHOLDER\nconst initialState = {\n  wallet: {\n    isLoaded: false,\n    rows: [],\n    object: {}\n  }\n};\n\nexport default handleActions(\n  {\n    [setChapiProp]: (state, { payload }) => ({ ...state, ...payload })\n  },\n  initialState\n);\n","import { connect } from 'react-redux';\nimport * as actions from './actions';\n\nexport default connect(({ chapi }) => ({ chapi }), { ...actions });\n","import { withHandlers } from \"recompose\";\nimport { compose } from 'recompose';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nconst walletObjectToArray = (walletContents = {}) => {\n  return Object.values(walletContents);\n}\n\nexport default compose(\n  withHandlers({\n    walletObjectToArray: () => walletObjectToArray,\n    loadWalletContents: ({ setChapiProp }) => () => {\n      let walletContents = localStorage.getItem('walletContents');\n      if (!walletContents) {\n        setChapiProp({\n          wallet: {\n            isLoaded: true\n          }\n        });\n      } else {\n        walletContents = JSON.parse(atob(walletContents));\n        setChapiProp({ wallet: { isLoaded: true, object: walletContents } });\n      }\n    },\n  }),\n  withHandlers({\n    storeInWallet: ({ chapi, loadWalletContents }) => (verifiablePresentation) => {\n      let walletContents = chapi.wallet.object || {};\n      let vc = verifiablePresentation;\n      if (verifiablePresentation.verifiableCredential) {\n        vc = Array.isArray(verifiablePresentation.verifiableCredential)\n          ? verifiablePresentation.verifiableCredential[0]\n          : verifiablePresentation.verifiableCredential;\n      }\n      const id = vc.id || `urn:uuid:${uuidv4()}`;\n      walletContents[id] = vc;\n      const serialized = btoa(JSON.stringify(walletContents));\n      localStorage.setItem('walletContents', serialized);\n      loadWalletContents();\n    }\n  }))\n\n","import reducer from './reducer';\nimport container from './container';\n\n// export { reducer, container };\n\nexport default {\n  reducer,\n  container,\n};\n","import { compose } from 'recompose';\nimport withRedux from './redux';\nimport withHandlers from './handlers';\n\nexport default compose(withRedux, withHandlers);\n","import { createAction } from \"redux-actions\";\n\n// TODO: UPDATE PLACE HOLDER\nexport const setTmuiProp = createAction(\n  \"tmui/SET_TMUI_PROP\",\n  payload => payload\n);\n","import { handleActions } from \"redux-actions\";\nimport { setTmuiProp } from \"./actions\";\n\n// TODO: UPDATE PLACEHOLDER\nconst initialState = {\n  isPrimaryDrawerOpen: false,\n  isSpeedDialogOpen: false,\n  activeTabIndex: 0,\n  currentRole: {\n    label: 'Tier 0',\n    value: 'tier0',\n  }\n};\n\nexport default handleActions(\n  {\n    [setTmuiProp]: (state, { payload }) => ({ ...state, ...payload })\n  },\n  initialState\n);\n","import { connect } from 'react-redux';\nimport * as actions from './actions';\n\nexport default connect(({ tmui }) => ({ tmui }), { ...actions });\n","import { withHandlers } from \"recompose\";\n\nexport default withHandlers({\n  setTmuiProp: ({ setTmuiProp }) => payload => {\n    setTmuiProp(payload);\n  },\n  doToggleSpeedDial: ({ setTmuiProp }) => payload => {\n    setTmuiProp({ isSpeedDialogOpen: payload });\n  },\n  doSelectActiveTab: ({ setTmuiProp }) => activeTabIndex => {\n    setTmuiProp({ activeTabIndex });\n  },\n\n  doFabClick: ({ setTmuiProp }) => context => {\n    setTmuiProp({ fabClick: context });\n  }\n});\n","import reducer from './reducer';\nimport container from './container';\n\n// export { reducer, container };\n\nexport default {\n  reducer,\n  container,\n};\n","import { compose } from 'recompose';\nimport withRedux from './redux';\nimport withHandlers from './handlers';\n\nexport default compose(withRedux, withHandlers);\n","import { connectRouter } from \"connected-react-router\";\n\nimport history from \"./history\";\n\nimport keystore from \"./keystore\";\nimport chapi from \"./chapi\";\n\nimport tmui from \"./tmui\";\n\n\nexport default {\n  router: connectRouter(history),\n  keystore: keystore.reducer,\n  chapi: chapi.reducer,\n  tmui: tmui.reducer\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\n\nimport { darken, lighten } from '@material-ui/core/styles/colorManipulator';\n\nconst primaryColor = '#161616';\nconst secondaryColor = '#fcb373';\nconst primaryColor2 = '#303f9f'\n\nconst font1 = '\"Rajdhani\"';\nconst font2 = '\"Roboto Condensed\"';\nconst font3 = '\"Lato\"';\n\nconst fontWeightLight = 300;\nconst fontWeightRegular = 400;\nconst fontWeightMedium = 600;\n\nclass Theme extends Component {\n  render() {\n    const { children } = this.props;\n    const theme = createMuiTheme({\n      splashImage: '',\n      palette: {\n        type: 'light',\n        primary: {\n          light: lighten(primaryColor, 0.07),\n          main: primaryColor,\n          dark: darken(primaryColor, 0.07),\n        },\n        secondary: {\n          light: lighten(secondaryColor, 0.07),\n          main: secondaryColor,\n          dark: darken(secondaryColor, 0.07),\n        },\n      },\n      typography: {\n        useNextVariants: true,\n        fontSize: 16,\n        fontFamily: [font1, font2, font3].join(','),\n        h1: {\n          fontFamily: font1,\n          fontWeight: fontWeightMedium,\n        },\n        h2: {\n          fontFamily: font1,\n          fontWeight: fontWeightMedium,\n        },\n        h3: {\n          fontFamily: font1,\n          fontWeight: fontWeightMedium,\n        },\n        h4: {\n          fontFamily: font2,\n          textTransform: 'uppercase',\n          letterSpacing: '0.1em',\n          fontWeight: fontWeightRegular,\n        },\n        h5: {\n          fontFamily: font2,\n          textTransform: 'uppercase',\n          letterSpacing: '0.1em',\n          fontWeight: fontWeightRegular,\n        },\n        h6: {\n          fontFamily: font2,\n          textTransform: 'uppercase',\n          letterSpacing: '0.1em',\n          fontWeight: fontWeightRegular,\n        },\n        subtitle1: {\n          fontFamily: font1,\n          fontWeight: fontWeightRegular,\n        },\n        subtitle2: {\n          fontFamily: font2,\n          fontWeight: fontWeightRegular,\n        },\n        body1: {\n          fontFamily: font3,\n          fontWeight: fontWeightRegular,\n        },\n        body2: {\n          fontFamily: font3,\n          fontWeight: fontWeightRegular,\n        },\n        button: {\n          fontFamily: font2,\n          fontWeight: fontWeightRegular,\n        },\n        caption: {\n          fontFamily: font2,\n          fontWeight: fontWeightRegular,\n        },\n        overline: {\n          fontFamily: font2,\n          letterSpacing: '0.15em',\n          textTransform: 'uppercase',\n          fontWeight: fontWeightLight,\n        },\n      },\n\n      overrides: {\n        MuiInput: {\n          // Name of the component ⚛️ / style sheet\n          input: {\n            fontFamily: font3,\n          },\n        },\n        MuiInputLabel: {\n          // Name of the component ⚛️ / style sheet\n          root: {\n            fontFamily: font2,\n          },\n        },\n        MuiAppBar: {\n          root: {\n            // boxShadow: 'none',\n          },\n        },\n        MuiButton: {\n          // Name of the rule\n          contained: {\n            boxShadow: 'none',\n          },\n        },\n      },\n    });\n    return <MuiThemeProvider theme={theme}>{children}</MuiThemeProvider>;\n  }\n}\n\nTheme.propTypes = {\n  children: PropTypes.any.isRequired,\n};\n\nexport default Theme;","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport clsx from \"clsx\";\n\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport ErrorIcon from \"@material-ui/icons/Error\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { amber, green } from \"@material-ui/core/colors\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport SnackbarContent from \"@material-ui/core/SnackbarContent\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n  default: InfoIcon\n};\n\nconst useStyles1 = makeStyles(theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.main\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: \"flex\",\n    alignItems: \"center\"\n  }\n}));\n\nfunction MySnackbarContentWrapper(props) {\n  const classes = useStyles1();\n  const { className, message, onClose, variant, ...other } = props;\n  // eslint-disable-next-line\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      // eslint-disable-next-line\n      className={clsx(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={clsx(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"close\"\n          color=\"inherit\"\n          onClick={onClose}\n        >\n          <CloseIcon className={classes.icon} />\n        </IconButton>\n      ]}\n      {...other}\n    />\n  );\n}\n\nMySnackbarContentWrapper.propTypes = {\n  className: PropTypes.string,\n  message: PropTypes.string,\n  onClose: PropTypes.func,\n  variant: PropTypes.oneOf([\"error\", \"info\", \"success\", \"warning\", \"default\"])\n    .isRequired\n};\n\nexport { MySnackbarContentWrapper };\nexport default MySnackbarContentWrapper;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nimport MySnackbarContentWrapper from \"./MySnackbarContentWrapper\";\n\nfunction TSnackbar(props) {\n  const {\n    open,\n    variant,\n    message,\n    autoHideDuration,\n    vertical,\n    horizontal\n  } = props.tmui.snackBarMessage || {\n    variant: \"default\",\n    vertical: \"bottom\",\n    horizontal: \"right\"\n  };\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    props.setTmuiProp({\n      snackBarMessage: {\n        ...props.tmui.snackBarMessage,\n        open: false\n      }\n    });\n  };\n\n  return (\n    <div>\n      <Snackbar\n        anchorOrigin={{\n          vertical,\n          horizontal\n        }}\n        open={open}\n        autoHideDuration={autoHideDuration}\n        onClose={handleClose}\n      >\n        <MySnackbarContentWrapper\n          onClose={handleClose}\n          variant={variant}\n          message={message}\n        />\n      </Snackbar>\n    </div>\n  );\n}\n\nTSnackbar.propTypes = {\n  tmui: PropTypes.object.isRequired,\n  setTmuiProp: PropTypes.func.isRequired\n};\n\nexport { TSnackbar as Snackbar };\nexport default TSnackbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\n\nimport Badge from '@material-ui/core/Badge';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\nimport TransmuteLogo from \"./../Logo/logo-transmute.svg\";\n\nconst drawerWidth = 0;\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    // display: 'flex',\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n\n  sectionDesktop: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'flex',\n    },\n  },\n  sectionMobile: {\n    display: 'flex',\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n\n  content: {\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: drawerWidth,\n    },\n\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nfunction ResponsiveDrawer(props) {\n  const { container } = props;\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\n\n  const isMenuOpen = Boolean(anchorEl);\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const handleProfileMenuOpen = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null);\n  };\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n    handleMobileMenuClose();\n  };\n\n  const handleMobileMenuOpen = event => {\n    setMobileMoreAnchorEl(event.currentTarget);\n  };\n\n  const renderMenu = (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={'primary-search-account-menu'}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      {props.rightHandAccountMenu.map(menuItem => {\n        if (!menuItem.displaySmUp) {\n          return (\n            <MenuItem key={menuItem.label} onClick={menuItem.onClick}>\n              {menuItem.label}\n            </MenuItem>\n          );\n        }\n        return '';\n      })}\n    </Menu>\n  );\n\n  const renderMobileMenu = (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={'primary-search-account-menu-mobile'}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      {props.rightHandAccountMenu.map(i => {\n        return (\n          <MenuItem key={i.label} onClick={i.onClick}>\n            <IconButton aria-label={i.ariaLabel} color=\"inherit\">\n              <Badge badgeContent={i.badgeContent} color=\"secondary\">\n                {i.icon}\n              </Badge>\n            </IconButton>\n            <p>{i.label}</p>\n          </MenuItem>\n        );\n      })}\n    </Menu>\n  );\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          {/* <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton> */}\n          {props.headerImage ? (\n            <img\n              src={props.headerImage}\n              alt={props.headerText}\n              className={classes.title}\n              style={{ height: '28px' }}\n            />\n          ) : (\n              <Typography className={classes.title} variant=\"h6\" noWrap>\n                {props.headerText}\n              </Typography>\n            )}\n          <div className={classes.grow} />\n          {/* <div className={classes.sectionDesktop}>\n            {props.rightHandAccountMenu.map(menuItem => {\n              if (menuItem.displaySmUp) {\n                return (\n                  <IconButton\n                    key={menuItem.ariaLabel}\n                    aria-label={menuItem.ariaLabel}\n                    color=\"inherit\"\n                  >\n                    <Badge\n                      color=\"secondary\"\n                      badgeContent={menuItem.badgeContent}\n                    >\n                      {menuItem.icon}\n                    </Badge>\n                  </IconButton>\n                );\n              }\n              return '';\n            })}\n\n            <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls={'primary-search-account-menu'}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <AccountCircleIcon />\n            </IconButton>\n          </div> */}\n          {/* <div className={classes.sectionMobile}>\n            <IconButton\n              aria-label=\"show more\"\n              aria-controls={'primary-search-account-menu-mobile'}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </div> */}\n        </Toolbar>\n      </AppBar>\n      {/* {renderMobileMenu}\n      {renderMenu} */}\n\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        <div style={{ maxWidth: '100%' }}>{props.content}</div>\n      </main>\n    </div>\n  );\n}\n\nResponsiveDrawer.propTypes = {\n  rightHandAccountMenu: PropTypes.any,\n  content: PropTypes.any,\n  drawer: PropTypes.any,\n  headerImage: PropTypes.string,\n  headerText: PropTypes.string,\n  container: PropTypes.any,\n};\n\nexport default ResponsiveDrawer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport List from '@material-ui/core/List';\nimport CodeIcon from \"@material-ui/icons/Code\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nimport history from '../../store/history';\n\nconst sideMenuPrimaryItem = [\n  {\n    label: \"Home\",\n    icon: <HomeIcon />,\n    showForRoles: [\"tier0\", \"tier1\", \"tier2\"],\n    onClick: () => {\n      history.push(\"/\");\n    }\n  },\n  // {\n  //   label: \"Keystore\",\n  //   icon: <VpnKeyIcon />,\n  //   showForRoles: [\"tier0\", \"tier1\", \"tier2\"],\n  //   onClick: () => {\n  //     history.push(\"/keystore\");\n  //   }\n  // },\n\n  {\n    label: \"Source Code\",\n    icon: <CodeIcon />,\n    showForRoles: [\"tier0\", \"tier1\", \"tier2\"],\n    onClick: () => {\n      window.open(\"https://github.com/transmute-industries/wallet.interop.transmute.world\", \"_blank\");\n    }\n  }\n];\n\nfunction DrawerContent({ tmui, setTmuiProp }) {\n  const [\n    values,\n    // setValues\n  ] = React.useState({\n    currentRole: tmui.currentRole\n  });\n\n  return (\n    <React.Fragment>\n      <List>\n        {sideMenuPrimaryItem\n          .filter(i => {\n            return i.showForRoles.indexOf(values.currentRole.value) !== -1;\n          })\n          .map(i => (\n            <ListItem button key={i.label} onClick={i.onClick}>\n              <ListItemIcon>{i.icon}</ListItemIcon>\n              <ListItemText primary={i.label} />\n            </ListItem>\n          ))}\n      </List>\n    </React.Fragment>\n  );\n}\n\nDrawerContent.propTypes = {\n  tmui: PropTypes.any,\n  setTmuiProp: PropTypes.any,\n};\n\nexport default DrawerContent;\n","import React from 'react';\n\n// import CameraAltIcon from '@material-ui/icons/CameraAlt';\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nimport CodeIcon from \"@material-ui/icons/Code\";\n\nimport history from '../../store/history';\n\nconst rightHandAccountMenu = [\n  // {\n  //   badgeContent: 0,\n  //   ariaLabel: 'scan qr code',\n  //   icon: <CameraAltIcon />,\n  //   label: 'Scan QR Code',\n  //   displaySmUp: true,\n  // },\n  {\n    badgeContent: 0,\n    ariaLabel: \"home\",\n    icon: <HomeIcon />,\n    label: \"Home\",\n    onClick: () => {\n      history.push(\"/\");\n    }\n  },\n  // {\n  //   badgeContent: 0,\n  //   ariaLabel: \"keystore\",\n  //   icon: <VpnKeyIcon />,\n  //   label: \"Keystore\",\n  //   onClick: () => {\n  //     history.push(\"/keystore\");\n  //   }\n  // },\n  {\n    badgeContent: 0,\n    label: \"Source Code\",\n    ariaLabel: \"source\",\n    icon: <CodeIcon />,\n    onClick: () => {\n      window.open(\"https://github.com/transmute-industries/wallet.interop.transmute.world\", \"_blank\");\n    }\n  }\n];\n\nexport default rightHandAccountMenu;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport * as chapi from 'credential-handler-polyfill';\nimport * as WebCredentialHandler from 'web-credential-handler';\nimport Theme from \"../../components/Theme/Theme\";\nimport Snackbar from \"../../components/Snackbar/Snackbar\";\n\nimport AppBarWithDrawer from \"../../components/AppBarWithDrawer/AppBarWithDrawer\";\nimport DrawerContent from \"../../components/AppBarWithDrawer/DrawerContent\";\nimport rightHandAccountMenu from '../../components/AppBarWithDrawer/rightHandAccountMenu';\n\nimport logo from \"../../components/Logo/logo.svg\";\n\n\nconst BasePage = ({ tmui, setTmuiProp, children }) => {\n  React.useEffect(() => {\n    if (!window.__chapi__run__once) {\n      (async () => {\n        try {\n          await chapi.loadOnce();\n          const WALLET_LOCATION = window.origin;\n          const workerUrl = `${WALLET_LOCATION}/worker.html`;\n          const registration = await WebCredentialHandler.installHandler({ url: workerUrl });\n          await registration.credentialManager.hints.set(\n            'test', {\n            name: 'TestUser',\n            enabledTypes: ['VerifiablePresentation', 'VerifiableCredential', 'UniversityDegreeCredential']\n          });\n          console.log('Wallet registered.');\n        } catch (e) {\n          console.error('Error in loadOnce:', e);\n        }\n      })();\n    }\n    window.__chapi__run__once = true;\n  })\n  return (\n    <Theme>\n      <AppBarWithDrawer\n        rightHandAccountMenu={rightHandAccountMenu}\n        headerImage={logo}\n        drawer={<DrawerContent tmui={tmui} setTmuiProp={setTmuiProp} />}\n        content={children}\n      />\n      <Snackbar tmui={tmui} setTmuiProp={setTmuiProp} />\n    </Theme>\n  )\n};\n\nBasePage.propTypes = {\n  children: PropTypes.any.isRequired,\n  tmui: PropTypes.any,\n  setTmuiProp: PropTypes.any\n};\n\nexport default BasePage;\n","import React, { Component } from \"react\";\n\nimport PropTypes from \"prop-types\";\n\n// eslint-disable-next-line\nimport brace from \"brace\";\nimport AceEditor from \"react-ace\";\n\n// eslint-disable-next-line\nimport \"brace/mode/json\";\n// eslint-disable-next-line\nimport \"brace/theme/github\";\n\nclass JSONEditor extends Component {\n  render() {\n    const { jsonObject, onChange } = this.props;\n    return (\n      <AceEditor\n        mode=\"json\"\n        theme=\"github\"\n        style={{ ...this.props.style, width: \"100%\" }}\n        onChange={(data)=>{\n          onChange(data);\n        }}\n        readOnly={onChange === undefined}\n        wrapEnabled={true}\n        name=\"JSONEditorEditor\"\n        value={JSON.stringify(jsonObject, null, 2)}\n        editorProps={{ $blockScrolling: true }}\n      />\n    );\n  }\n}\n\nJSONEditor.propTypes = {\n  jsonObject: PropTypes.object.isRequired,\n  style: PropTypes.object\n};\n\nexport default JSONEditor;\n","import React, { useState, useEffect } from 'react';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LinearProgress from '@material-ui/core/LinearProgress'\n\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { ContactSupportOutlined } from '@material-ui/icons';\n\n\nconst excludedCredentialSubjectProperties = ['image', 'type'];\nconst excludedCredentialProperties = ['credentialSubject', 'type', '@context', 'proof'];\nconst dateKeys = ['issuanceDate', 'expirationDate'];\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: '100%',\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        fontWeight: theme.typography.fontWeightRegular,\n    },\n}));\n\n\nexport default function BasicCard({ verifiableCredential }) {\n\n    let eSealLookupCancelled = false;\n\n    const [certificates, setcertificates] = useState([]);\n    const [loadingCerts, setloadingCerts] = useState(true);\n\n    const proofs = verifiableCredential.proof;\n\n    let eSeal = false;\n    \n    if(Array.isArray(proofs)) {\n        eSeal = proofs.some( proof => proof.type === 'CAdESRSASignature2020');\n    }\n\n    const classes = useStyles();\n\n    const [expanded, setExpanded] = React.useState('panel1');\n\n    const handleChange = (panel) => (event, newExpanded) => {\n        setExpanded(newExpanded ? panel : false);\n    };\n\n    const renderProp = (prop, key) => {\n        let value = prop.toString();\n        if (value === 'true') {\n            return <span style={{ borderRadius: '4px', padding: '4px', backgroundColor: '#d32f2f', color: '#fff' }}>{'Positive'}</span>\n        }\n        if (value === 'false') {\n            return <span style={{ borderRadius: '4px', padding: '4px', backgroundColor: '#7cb342' }}>{'Negative'}</span>\n        }\n        if (dateKeys.indexOf(key) !== -1) {\n            return moment(value).fromNow()\n        }\n        if (typeof prop === 'object' && prop.id) {\n            value = prop.id;\n        }\n        return <span style={{ wordBreak: 'break-all', paddingLeft: '16px' }}>{value.slice(0, 64)}</span>;\n    }\n\n    const subject = verifiableCredential.credentialSubject?.cmtr ? verifiableCredential.credentialSubject.cmtr : verifiableCredential.credentialSubject\n\n    useEffect(() => {\n        loadCertificates()\n        return () => {\n            eSealLookupCancelled = true;\n        };\n    }, []);\n\n    const loadCertificates = async () => {\n        if (!eSealLookupCancelled){\n            setloadingCerts(true);\n        }\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(verifiableCredential)\n        };\n        \n        const response = await fetch(`${process.env.REACT_APP_EIDAS_API}/eidas-bridge/v1/signature-validations`, requestOptions);\n        const data = await response.json();\n        let certificates = [];\n        try {\n            if(response.status == 200 && data.indication === \"TOTAL_PASSED\") {\n                let certTree = data.reports[0].SimpleReport.signatureOrTimestamp[0].Signature.CertificateChain.Certificate;\n                for (const [index, value] of certTree.entries()) {\n                    if (index === 3) { break; }\n                    if (index & 1 === 1) { continue; }\n                    certificates.push(value);\n                }\n            }\n        }\n        catch (error) {\n            console.log(error);\n        } finally {\n            if (!eSealLookupCancelled){\n                setloadingCerts(false);\n                setcertificates(certificates);\n            }\n        }\n    }\n\n    const certLabel = (index) => {\n        switch(index){\n            case 0:\n                return <span style={{ fontWeight: 700 }}>Qualified Electronic seal generated by:</span>;\n            case 1: \n                return <span style={{ fontWeight: 700 }}>Qualified Electronic Certificated issued by:</span>;\n            default: \n                return <span style={{ fontWeight: 700 }}></span>;\n        }\n    }\n\n    return (\n        <Box>\n            { eSeal ?\n            <ExpansionPanel>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"paneleidas-header\"\n                >\n                    <Box display=\"flex\">\n                        <img height=\"25\" src={process.env.PUBLIC_URL + '/eidas.png'} />\n                        <Typography style={{ padding: '0 16px' }} className={classes.heading}>eIDAS Compliant Credential</Typography>\n                    </Box>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Box style={{ padding: '0 16px' }} flexGrow={1}>\n                        { loadingCerts ? <LinearProgress /> : null }\n                        { \n                            certificates.map((item, index) => { \n                                return( \n\n                                    <Box display=\"flex\" p={1} key={index} style={{\n                                        fontSize: '.8em',\n                                        borderBottom: '1px solid #000',\n                                        marginBottom: '8px'\n                                    }}>\n                                        <Box flexGrow={1}>\n                                            <span style={{ fontWeight: 700 }}>{certLabel(index)}</span>\n                                        </Box>\n                                        <Box>\n                                            <span style={{ wordBreak: 'break-all', paddingLeft: '16px' }}>{item.qualifiedName}</span>\n                                        </Box>\n                                    </Box>\n                                )\n                            \n                            })\n                        }\n                    </Box>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n            : null } \n            <ExpansionPanel>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Typography className={classes.heading}>Credential</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Box style={{ padding: '0 16px' }} flexGrow={1}>\n                        {\n                            Object.keys(verifiableCredential).map((k) => {\n                                if (excludedCredentialProperties.indexOf(k) === -1) {\n                                    return (<Box display=\"flex\" p={1} key={k} style={{\n                                        fontSize: '.8em',\n                                        borderBottom: '1px solid #000',\n                                        marginBottom: '8px'\n\n                                    }}>\n                                        <Box flexGrow={1}>\n                                            <span style={{ fontWeight: 700 }}>{k}</span>\n                                        </Box>\n                                        <Box>\n                                            {renderProp(verifiableCredential[k], k)}\n                                        </Box>\n                                    </Box>)\n                                }\n                            })\n                        }\n                    </Box>\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n            <ExpansionPanel expanded={expanded === 'panel1'} onChange={handleChange('panel1')}>\n                <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel2a-content\"\n                    id=\"panel2a-header\"\n                >\n                    <Typography className={classes.heading}>Subject</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <Grid container>\n\n                        {\n                            verifiableCredential.credentialSubject.image &&\n                            <Grid item xs={12} lg={4}>\n                                <Box>\n                                    <img src={verifiableCredential.credentialSubject.image} />\n                                </Box>\n                            </Grid>\n                        }\n\n                        <Grid item xs={12} lg={verifiableCredential.credentialSubject.image ? 8 : 12}>\n                            {\n                                Object.keys(subject).map((k) => {\n                                    if (excludedCredentialSubjectProperties.indexOf(k) === -1 && typeof subject[k] !== 'object') {\n                                        return (<Box display=\"flex\" p={1} key={k} style={{\n                                            fontSize: '.8em',\n                                            borderBottom: '1px solid #000',\n                                            marginBottom: '8px'\n\n                                        }}>\n                                            <Box flexGrow={1}>\n                                                <span style={{ fontWeight: 700 }}>{k}</span>\n                                            </Box>\n                                            <Box>\n                                                {renderProp(subject[k])}\n                                            </Box>\n                                        </Box>)\n                                    }\n                                })\n                            }\n                        </Grid>\n                    </Grid>\n\n\n                </ExpansionPanelDetails>\n            </ExpansionPanel>\n        </Box>\n    );\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport JSONEditor from '../JSONEditor/JSONEditor';\nimport CredentialCard from '../CredentialCard/CredentialCard';\n\nfunction TabPanel(props) {\n    const { children, value, index, ...other } = props;\n\n    return (\n        <Typography\n            component=\"div\"\n            role=\"tabpanel\"\n            hidden={value !== index}\n            id={`simple-tabpanel-${index}`}\n            aria-labelledby={`simple-tab-${index}`}\n            {...other}\n        >\n            {value === index && <Box p={3}>{children}</Box>}\n        </Typography>\n    );\n}\n\nTabPanel.propTypes = {\n    children: PropTypes.node,\n    index: PropTypes.any.isRequired,\n    value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n    return {\n        id: `simple-tab-${index}`,\n        'aria-controls': `simple-tabpanel-${index}`,\n    };\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        backgroundColor: '#bdbdbd',\n    },\n}));\n\nexport default function CredentialDetailPanel({ verifiableCredential }) {\n\n    const classes = useStyles();\n    const [value, setValue] = React.useState(0);\n\n    const handleChange = (event, newValue) => {\n        setValue(newValue);\n    };\n\n\n    return (\n\n        <div className={classes.root}>\n            <AppBar position=\"static\" color={'primary'}>\n                <Tabs value={value} onChange={handleChange} aria-label=\"VC Tabs\">\n                    <Tab label=\"Preview\" {...a11yProps(0)} />\n                    <Tab label=\"Source\" {...a11yProps(1)} />\n                </Tabs>\n            </AppBar>\n            <TabPanel value={value} index={0}>\n                <CredentialCard verifiableCredential={verifiableCredential} />\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n                <JSONEditor\n                    jsonObject={verifiableCredential}\n                />\n            </TabPanel>\n        </div >\n    );\n}","\n\nimport React from \"react\";\nimport MaterialTable from \"material-table\";\nimport Button from '@material-ui/core/Button'\n\nimport _ from 'lodash';\nimport CredentialDetailPanel from './CredentialDetailPanel'\nfunction WalletContentsTable(props) {\n\n    let actions = [];\n    if (props.onShare) {\n        actions.push(\n            {\n                icon: () => {\n                    return (<Button component={'div'} variant={'contained'} color={'primary'}>Share</Button>)\n                },\n                onClick: (event, rowData) => {\n\n                    let withoutMutation = { ...rowData };\n                    delete withoutMutation.tableData;\n\n                    props.onShare(withoutMutation);\n                }\n            },\n        )\n    }\n\n    let { credentialRequestOptions } = props;\n    let query;\n    let columns = [];\n    if (credentialRequestOptions) {\n        query = Array.isArray(credentialRequestOptions.web.VerifiablePresentation.query) ?\n            credentialRequestOptions.web.VerifiablePresentation.query[0] : credentialRequestOptions.web.VerifiablePresentation.query;\n\n        let typeFilterDefault = ''\n        if (query.type === 'DIDAuth') {\n            typeFilterDefault = \"VerifiablePresentation\"\n        }\n        if (query.credentialQuery) {\n            if (Array.isArray(query.credentialQuery.example.type)) {\n                typeFilterDefault = query.credentialQuery.example.type[0]\n            } else {\n                typeFilterDefault = query.credentialQuery.example.type\n            }\n        }\n        columns.push({\n            title: 'Type', field: 'type', render: (rowData) => {\n                if (typeof rowData.type === 'string') {\n                    return _.startCase(rowData.type);\n                }\n                console.log(rowData.type)\n                if (rowData.type.length === 2) {\n                    return _.startCase(rowData.type[1]);\n                }\n                return rowData.type.map(_.startCase).join(\", \")\n            },\n            defaultFilter: typeFilterDefault,\n            customFilterAndSearch: (term, rowData) => {\n                if (Array.isArray(rowData.type)) {\n                    return rowData.type.indexOf(term) !== -1;\n                }\n                return rowData.type === term;\n            }\n        })\n        if (query.type === 'DIDAuth') {\n            // columns.push({\n            //     title: 'Domain', field: 'domain', render: (rowData) => {\n            //         return rowData.proof.domain;\n            //     },\n            //     defaultFilter: credentialRequestOptions.web.VerifiablePresentation.domain,\n            //     customFilterAndSearch: (term, rowData) => {\n            //         return rowData.proof.domain === term;\n            //     }\n            // })\n            columns.push({\n                title: 'Challenge', field: 'challenge', render: (rowData) => {\n                    return rowData.proof.challenge;\n                },\n                defaultFilter: credentialRequestOptions.web.VerifiablePresentation.challenge,\n                customFilterAndSearch: (term, rowData) => {\n                    return rowData.proof.challenge === term;\n                }\n            })\n        }\n    } else {\n        columns.push({\n            title: 'Type', field: 'type', render: (rowData) => {\n                if (typeof rowData.type === 'string') {\n                    return _.startCase(rowData.type);\n                }\n                if (rowData.type.length === 2) {\n                    return _.startCase(rowData.type[1]);\n                }\n                return rowData.type.map(_.startCase).join(\", \")\n            },\n            customFilterAndSearch: (term, rowData) => {\n                if (Array.isArray(rowData.type)) {\n                    return rowData.type.indexOf(term) !== -1;\n                }\n                return rowData.type === term;\n            }\n        })\n    }\n\n    return (\n        <MaterialTable\n            title={props.title || 'Options'}\n            columns={columns}\n            actions={actions}\n            data={props.walletRows || []}\n            options={{\n                filtering: true,\n                search: true,\n                pageSize: 3,\n                actionsColumnIndex: -1\n            }}\n            detailPanel={rowData => {\n                let withoutMutation = { ...rowData };\n                delete withoutMutation.tableData;\n                if(withoutMutation.type === \"VerifiablePresentation\") {\n                    return;\n                }\n                return (\n                    <CredentialDetailPanel verifiableCredential={withoutMutation} />\n                )\n            }}\n        />\n    );\n}\nexport { WalletContentsTable };\nexport default WalletContentsTable;\n","import WalletContentsTable from \"./WalletContentsTable\";\n\nexport default WalletContentsTable;","import React from \"react\";\nimport MenuItem from '@material-ui/core/MenuItem';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport Button from '@material-ui/core/Button'\n\nfunction HolderDID() {\n\n    let holder = localStorage.getItem('holder');\n\n    if (!holder) {\n        holder = 'did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd';\n        localStorage.setItem('holder', holder);\n    }\n\n    const [state, setState] = React.useState({\n        holder,\n    })\n    return (\n        <div style={{ marginBottom: '16px' }}>\n            <InputLabel id={'holder-label'}>Holder</InputLabel>\n            <Select\n                labelId=\"holder-label\"\n                value={state.holder}\n                onChange={(event) => {\n                    setState({\n                        holder: event.target.value\n                    })\n                    localStorage.setItem('holder', event.target.value);\n                }}\n            >\n                <MenuItem value={'did:web:vc.transmute.world'}>did:web:vc.transmute.world</MenuItem>\n                <MenuItem value={'did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd'}>did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd</MenuItem>\n                <MenuItem value={'did:elem:ropsten:EiBJJPdo-ONF0jxqt8mZYEj9Z7FbdC87m2xvN0_HAbcoEg'}>did:elem:ropsten:EiBJJPdo-ONF0jxqt8mZYEj9Z7FbdC87m2xvN0_HAbcoEg</MenuItem>\n                <MenuItem value={'did:v1:test:nym:z6MkhdmzFu659ZJ4XKj31vtEDmjvsi5yDZG5L7Caz63oP39k'}>did:v1:test:nym:z6MkhdmzFu659ZJ4XKj31vtEDmjvsi5yDZG5L7Caz63oP39k</MenuItem>\n            </Select>\n\n            <Button variant={'contained'} color={'secondary'} style={{ float: 'right' }} onClick={() => {\n                localStorage.removeItem('walletContents');\n                window.location.reload();\n            }}>Delete Wallet Contents</Button>\n        </div>\n    );\n}\nexport { HolderDID };\nexport default HolderDID;\n","import HolderDID from './HolderDID'\nexport default HolderDID","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport BasePage from \"../BasePage/BasePage\";\n\nimport WalletContentsTable from '../../components/WalletContentsTable'\nimport HolderDID from '../../components/HolderDID'\n\nconst { credentialHandlerPolyfill } = window;\n\n\nconst HomePage = (props) => {\n  const { tmui, setTmuiProp } = props;\n  React.useEffect(() => {\n    credentialHandlerPolyfill\n      .loadOnce()\n      .then(() => {\n        if (!props.chapi.wallet.isLoaded) {\n          props.loadWalletContents();\n        }\n      })\n  }, [])\n\n  return (\n    <BasePage tmui={tmui} setTmuiProp={setTmuiProp}>\n      <HolderDID />\n      <WalletContentsTable title={'Wallet'} walletRows={props.walletObjectToArray(props.chapi.wallet.object)} />\n    </BasePage>\n  )\n};\n\nHomePage.propTypes = {\n  tmui: PropTypes.object,\n  setTmuiProp: PropTypes.func\n};\n\nexport default HomePage;\n","import React from \"react\";\nimport HomePage from \"./HomePage\";\n\nimport { compose } from \"redux\";\n\nimport tmui from \"../../store/tmui\";\nimport chapi from \"../../store/chapi\";\n\nconst container = compose(chapi.container, tmui.container);\n\nexport default container(props => {\n  return <HomePage {...props} />;\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    marginBottom: \"4px\"\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n    wordBreak: \"break-all\"\n  },\n  panel: {\n    backgroundColor: green[200]\n  }\n});\n\nfunction ExpansionPanelList({ classes, panels }) {\n  return (\n    <div className={classes.root}>\n      {panels &&\n        panels.map(panel => (\n          <ExpansionPanel\n            disabled={panel.disabled}\n            key={panel.title}\n            className={classes.panel}\n          >\n            <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography className={classes.heading}>{panel.title}</Typography>\n            </ExpansionPanelSummary>\n            <ExpansionPanelDetails>{panel.children}</ExpansionPanelDetails>\n          </ExpansionPanel>\n        ))}\n    </div>\n  );\n}\n\nExpansionPanelList.propTypes = {\n  classes: PropTypes.object.isRequired,\n  panels: PropTypes.array.isRequired\n};\n\nexport default withStyles(styles)(ExpansionPanelList);\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport clsx from \"clsx\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport Card from \"@material-ui/core/Card\";\nimport Chip from \"@material-ui/core/Chip\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red, blue } from \"@material-ui/core/colors\";\n\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\n\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\n\nimport {\n  LockOpen,\n  NoteAdd,\n  Lock,\n  CloudDownload,\n  Create\n} from \"@material-ui/icons\";\n\nimport ExpansionPanelList from \"./ExpansionPanelList\";\n\nimport keystoreImage from \"./key.svg\";\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 512\n  },\n  media: {\n    height: 0,\n    backgroundSize: \"contain\",\n    paddingTop: \"56.25%\" // 16:9\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\"\n  }\n}));\n\nfunction download(filename, text) {\n  const element = document.createElement(\"a\");\n  element.setAttribute(\n    \"href\",\n    `data:text/plain;charset=utf-8,${encodeURIComponent(text)}`\n  );\n  element.setAttribute(\"download\", filename);\n\n  element.style.display = \"none\";\n  document.body.appendChild(element);\n\n  element.click();\n\n  document.body.removeChild(element);\n}\n\nfunction KeystoreStatusIcon({ status }) {\n  switch (status) {\n    case \"empty\":\n      return <NoteAdd />;\n    case \"create\":\n      return <Create />;\n    case \"locked\":\n      return <Lock />;\n    case \"unlocked\":\n      return <LockOpen />;\n    default:\n      return <LockOpen />;\n  }\n}\n\nfunction keyStoreStatusColor({ status }) {\n  switch (status) {\n    case \"empty\":\n      return blue[500];\n    case \"locked\":\n      return blue[500];\n    case \"unlocked\":\n      return red[500];\n    default:\n      return red[500];\n  }\n}\n\nexport default function KeystoreCard({\n  status,\n  title,\n  subheader,\n  keystore,\n  doImportKeystore,\n  doDeleteKeystore,\n  doCreateWalletKeystore,\n  onOpenKeystoreLockDialog,\n  onOpenKeystoreEditDialog\n}) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <Card className={classes.card}>\n      <input\n        // accept=\"text/plain\"\n        style={{ display: \"none\" }}\n        id=\"keystore-file-input\"\n        multiple\n        onChange={event => {\n          Object.keys(event.target.files).map(index => {\n            const file = event.target.files[index];\n            const reader = new FileReader();\n            reader.onload = upload => {\n              doImportKeystore(upload.target.result);\n            };\n            return reader.readAsText(file);\n          });\n        }}\n        type=\"file\"\n      />\n      <CardHeader\n        avatar={\n          <Avatar\n            aria-label=\"recipe\"\n            style={{\n              backgroundColor: keyStoreStatusColor({ status })\n            }}\n          >\n            <KeystoreStatusIcon status={status} />\n          </Avatar>\n        }\n        title={title}\n        // subheader={status}\n        action={\n          <React.Fragment>\n            {status === \"empty\" ? (\n              <React.Fragment></React.Fragment>\n            ) : (\n              <React.Fragment>\n                <IconButton\n                  aria-label=\"settings\"\n                  aria-controls=\"simple-menu\"\n                  aria-haspopup=\"true\"\n                  variant=\"contained\"\n                  onClick={handleClick}\n                >\n                  <MoreVertIcon />\n                </IconButton>\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <MenuItem\n                    onClick={() => {\n                      doDeleteKeystore();\n                      handleClose();\n                    }}\n                  >\n                    Delete\n                  </MenuItem>\n                  {status === \"unlocked\" && (\n                    <MenuItem\n                      onClick={() => {\n                        onOpenKeystoreEditDialog();\n                        handleClose();\n                      }}\n                    >\n                      Edit\n                    </MenuItem>\n                  )}\n\n                  <MenuItem\n                    onClick={() => {\n                      onOpenKeystoreLockDialog();\n                      handleClose();\n                    }}\n                  >\n                    {status === \"locked\" ? \"Unlock\" : \"Lock\"}\n                  </MenuItem>\n                </Menu>\n              </React.Fragment>\n            )}\n          </React.Fragment>\n        }\n      />\n      {status !== \"empty\" && (\n        <CardMedia\n          className={classes.media}\n          image={keystoreImage}\n          title=\"Keystore\"\n        />\n      )}\n\n      <CardContent>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n          {subheader}\n        </Typography>\n      </CardContent>\n\n      {status === \"empty\" && (\n        <CardActions>\n          <Button\n            aria-label=\"import\"\n            onClick={() => {\n              document.getElementById(\"keystore-file-input\").click();\n            }}\n            endIcon={<KeystoreStatusIcon status={status} />}\n          >\n            Import\n          </Button>\n\n          <Button\n            onClick={() => {\n              doCreateWalletKeystore();\n            }}\n            endIcon={<KeystoreStatusIcon status={\"create\"} />}\n          >\n            Create\n          </Button>\n        </CardActions>\n      )}\n      {status !== \"empty\" && (\n        <React.Fragment>\n          <CardActions disableSpacing>\n            {status === \"locked\" && (\n              <IconButton\n                aria-label=\"Export Keystore\"\n                onClick={() => {\n                  download(\"keystore.txt\", keystore.data);\n                }}\n              >\n                <CloudDownload />\n              </IconButton>\n            )}\n\n            {status === \"unlocked\" && (\n              <IconButton\n                className={clsx(classes.expand, {\n                  [classes.expandOpen]: expanded\n                })}\n                onClick={handleExpandClick}\n                aria-expanded={expanded}\n                aria-label=\"show more\"\n              >\n                <ExpandMoreIcon />\n              </IconButton>\n            )}\n          </CardActions>\n\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n            <CardContent>\n              {status === \"unlocked\" &&\n                Object.keys(keystore.data.keys).map(kid => {\n                  const key = keystore.data.keys[kid];\n\n                  return (\n                    <ExpansionPanelList\n                      key={kid}\n                      panels={[\n                        {\n                          title: `${key.tags[0]} ${kid.substring(0, 8)}...`,\n                          children: (\n                            <div style={{ width: \"100%\" }}>\n                              <Typography variant=\"body2\">\n                                {key.notes}\n                              </Typography>\n                              <br />\n\n                              <div>\n                                {key.tags.map(t => (\n                                  <CopyToClipboard\n                                    key={t}\n                                    text={t}\n                                    onCopy={() => {\n                                      alert(`Copied ${t} to clipboard`);\n                                    }}\n                                  >\n                                    <Chip\n                                      key={t}\n                                      label={t}\n                                      variant=\"outlined\"\n                                      style={{ margin: \"4px\" }}\n                                    />\n                                  </CopyToClipboard>\n                                ))}\n                              </div>\n                              <br />\n                              <CopyToClipboard\n                                text={key.publicKey}\n                                onCopy={() => {\n                                  alert(\"Copied public key to clipboard\");\n                                }}\n                              >\n                                <Button\n                                  style={{ marginTop: \"16px\" }}\n                                  fullWidth\n                                  variant=\"contained\"\n                                >\n                                  Copy Public Key\n                                </Button>\n                              </CopyToClipboard>\n                            </div>\n                          )\n                        }\n                      ]}\n                    />\n                  );\n                })}\n            </CardContent>\n          </Collapse>\n        </React.Fragment>\n      )}\n    </Card>\n  );\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nclass KeystoreLockDialog extends React.Component {\n  state = {\n    password: \"\"\n  };\n\n  handleClose = () => {\n    this.setState({ password: \"\" });\n    this.props.onClose();\n  };\n\n  handleChange = name => event => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.doToggleKeystore(this.state.password);\n    this.setState({ password: \"\" });\n  };\n\n  render() {\n    const { password } = this.state;\n    return (\n      <div>\n        <Dialog\n          open={this.props.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">\n            Enter Keystore Password\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>{this.props.message}</DialogContentText>\n            <form onSubmit={this.handleSubmit}>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                value={password}\n                onChange={this.handleChange(\"password\")}\n                fullWidth\n              />\n            </form>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button\n              onClick={this.handleSubmit}\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {this.props.keystoreState === \"locked\" ? \"Unlock\" : \"Lock\"}{\" \"}\n              Keystore\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nKeystoreLockDialog.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  keystoreState: PropTypes.string.isRequired\n};\n\nexport default KeystoreLockDialog;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// eslint-disable-next-line\nimport brace from \"brace\";\nimport AceEditor from \"react-ace\";\n\n// eslint-disable-next-line\nimport \"brace/mode/json\";\n// eslint-disable-next-line\nimport \"brace/theme/github\";\n\nclass KeystoreEditor extends React.Component {\n  render() {\n    const { value, onChange } = this.props;\n\n    return (\n      <AceEditor\n        mode=\"json\"\n        theme=\"github\"\n        style={{ width: \"100%\" }}\n        onChange={onChange}\n        name=\"Keystore Editor\"\n        value={value}\n        editorProps={{ $blockScrolling: true }}\n      />\n    );\n  }\n}\n\nKeystoreEditor.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nexport default KeystoreEditor;\n","import React from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\n\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nimport KeystoreEditor from \"./KeystoreEditor\";\n\nclass KeystoreEditorDialog extends React.Component {\n  state = {\n    isSetup: false,\n    keystore: \"{}\"\n  };\n\n  componentDidUpdate() {\n    if (\n      !this.state.isSetup &&\n      this.props.keystore &&\n      typeof this.props.keystore.data === \"object\"\n    ) {\n      const maybeNew = JSON.stringify(this.props.keystore.data.keys, null, 2);\n      if (this.state.keystore !== maybeNew) {\n        this.setState({\n          keystore: maybeNew\n        });\n        this.setState({\n          isSetup: true\n        });\n      }\n    }\n  }\n\n  handleClose = () => {\n    this.setState({\n      isSetup: false\n    });\n    this.props.onClose();\n  };\n\n  handleChange = name => event => {\n    this.setState({ [name]: event.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.doUpdateKeystore(this.state.keystore);\n    this.props.onClose();\n  };\n\n  render() {\n    const { keystore } = this.state;\n    return (\n      <div>\n        <Dialog\n          fullScreen\n          open={this.props.open}\n          onClose={this.handleClose}\n          aria-labelledby=\"form-dialog-title\"\n        >\n          <DialogTitle id=\"form-dialog-title\">Edit Keystore</DialogTitle>\n          <DialogContent>\n            <KeystoreEditor\n              value={keystore}\n              onChange={newValue => {\n                this.setState({ keystore: newValue });\n              }}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button\n              onClick={this.handleSubmit}\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              Save\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nKeystoreEditorDialog.propTypes = {\n  // open: PropTypes.bool,\n  // onClose: PropTypes.func,\n  // keystoreState: PropTypes.string.isRequired\n};\n\nexport default KeystoreEditorDialog;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport KeystoreCard from \"./KeystoreCard\";\nimport KeystoreLockDialog from \"./KeystoreLockDialog\";\nimport KeystoreEditorDialog from \"./KeystoreEditorDialog\";\n\nclass WebKeystore extends React.Component {\n  state = {\n    isKeystoreLockDialogOpen: false,\n    isKeystoreEditDialogOpen: false\n  };\n  getKeystoreContext(keystore) {\n    if (!keystore || keystore.data === null) {\n      return {\n        status: \"empty\",\n        title: \"You have no keys\",\n        subheader:\n          \"If you want to use keys generated by another application use import. If you want to generate a keystore for the first time, click create.\",\n        passwordPrompt: \"\"\n      };\n    }\n\n    if (typeof keystore.data === \"string\") {\n      return {\n        status: \"locked\",\n        title: \"You have encrypted keys\",\n        subheader:\n          \"You will need to unlock your keys with your password before they can be used. You can export them while they are locked, but not after you unlock them.\",\n        passwordPrompt:\n          \"Enter the password used when the keystore was created or last locked.\"\n      };\n    }\n\n    if (typeof keystore.data === \"object\") {\n      return {\n        status: \"unlocked\",\n        title: \"You have keys\",\n        subheader:\n          \"Your keys are ready for use. If you wish to reuse these keys in another application, you must lock this keystore and then export it.\",\n        passwordPrompt: \"Enter a password to lock this keystore.\"\n      };\n    }\n  }\n\n  onOpenKeystoreLockDialog = () => {\n    this.setState({\n      isKeystoreLockDialogOpen: true\n    });\n  };\n\n  onOpenKeystoreEditDialog = () => {\n    this.setState({\n      isKeystoreEditDialogOpen: true\n    });\n  };\n\n  doToggleKeystore = password => {\n    this.setState({\n      isKeystoreLockDialogOpen: false\n    });\n    this.props.doToggleKeystore(password);\n  };\n\n  render() {\n    const {\n      doImportKeystore,\n      doDeleteKeystore,\n      doCreateWalletKeystore,\n      doUpdateKeystore\n    } = this.props;\n    const keystore = this.props.keystore.keystore;\n    const {\n      status,\n      title,\n      subheader,\n      passwordPrompt\n    } = this.getKeystoreContext(keystore);\n    const { isKeystoreLockDialogOpen, isKeystoreEditDialogOpen } = this.state;\n    return (\n      <React.Fragment>\n        <KeystoreCard\n          status={status}\n          title={title}\n          subheader={subheader}\n          keystore={keystore}\n          doImportKeystore={doImportKeystore}\n          doDeleteKeystore={doDeleteKeystore}\n          doCreateWalletKeystore={doCreateWalletKeystore}\n          onOpenKeystoreLockDialog={this.onOpenKeystoreLockDialog}\n          onOpenKeystoreEditDialog={this.onOpenKeystoreEditDialog}\n        />\n        <KeystoreLockDialog\n          message={passwordPrompt}\n          open={isKeystoreLockDialogOpen}\n          keystoreState={status}\n          doToggleKeystore={this.doToggleKeystore}\n          onClose={() => {\n            this.setState({\n              isKeystoreLockDialogOpen: false\n            });\n          }}\n        />\n        <KeystoreEditorDialog\n          open={isKeystoreEditDialogOpen}\n          keystore={keystore}\n          doUpdateKeystore={doUpdateKeystore}\n          onClose={() => {\n            this.setState({\n              isKeystoreEditDialogOpen: false\n            });\n          }}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nWebKeystore.propTypes = {\n  keystore: PropTypes.object,\n  doImportKeystore: PropTypes.func,\n  doToggleKeystore: PropTypes.func\n};\n\nexport default WebKeystore;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport BasePage from \"../BasePage/BasePage\";\n\nimport WebKeystore from \"../../components/WebKeystore/WebKeystore\";\n\n// import history from \"../../store/history\";\n\nconst KeystorePage = props => (\n  <BasePage {...props}>\n    <WebKeystore {...props} />\n  </BasePage>\n);\n\nKeystorePage.propTypes = {\n  tmui: PropTypes.any,\n  setTmuiProp: PropTypes.any,\n  keystore: PropTypes.any,\n  doImportKeystore: PropTypes.any,\n  onWalletDelete: PropTypes.any,\n  doToggleKeystore: PropTypes.any,\n  doCreateWalletKeystore: PropTypes.any\n};\n\nexport default KeystorePage;\n","import React from \"react\";\nimport { compose } from \"redux\";\n\nimport tmui from \"../../store/tmui\";\nimport keystore from \"../../store/keystore\";\n\nimport KeystorePage from \"./KeystorePage\";\n\nconst container = compose(tmui.container, keystore.container);\n\nexport default container(props => {\n  return (\n    <KeystorePage\n      {...props}\n    />\n  );\n});\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport loadingGif from \"./transmute-loading-white.gif\";\n\nfunction Loading({ message }) {\n  return (\n    <div\n      style={{\n        alignItems: \"center\",\n        display: \"flex\",\n        flex: 1,\n        height: \"100%\",\n        justifyContent: \"center\",\n        flexDirection: \"column\"\n      }}\n    >\n      <img\n        alt=\"loading...\"\n        src={loadingGif}\n        style={{\n          filter: \"brightness(25%) sepia(1) hue-rotate(-150deg)\",\n          marginBottom: \"32px\"\n        }}\n      />\n      <Typography paragraph>{message || \"Loading...\"}</Typography>\n    </div>\n  );\n}\nexport { Loading };\nexport default Loading;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Theme from '../../../../components/Theme/Theme'\nimport Loading from '../../../../components/Loading/Loading'\n\nimport CredentialCard from '../../../../components/CredentialCard/CredentialCard'\n\nconst { WebCredentialHandler, credentialHandlerPolyfill } = window;\n\nconst ChapiWalletStore = (props) => {\n\n  const [state, setState] = React.useState({})\n\n  React.useEffect(() => {\n    const handleStoreEvent = async () => {\n      if (!props.chapi.wallet.isLoaded) {\n        props.loadWalletContents();\n      }\n\n      const event = await WebCredentialHandler.receiveCredentialEvent();\n      console.log('Store Credential Event:', JSON.stringify(event, null, 2));\n      const credential = event.credential;\n      // Display the credential details, for confirmation\n      const vp = credential.data;\n      let vc;\n      if (vp.verifiableCredential) {\n        vc = Array.isArray(vp.verifiableCredential)\n          ? vp.verifiableCredential[0]\n          : vp.verifiableCredential;\n      } else {\n        vc = vp;\n      }\n\n      setState({\n        ...state,\n        event,\n        credential,\n        vc\n      })\n    }\n\n    credentialHandlerPolyfill\n      .loadOnce()\n      .then(handleStoreEvent);\n  }, [])\n\n  if (!state.credential) {\n    return <Loading message={'Loading credential...'} />\n  }\n  return (\n    <Theme>\n      <div style={{ height: '100%', padding: '8px' }}>\n        <Typography style={{ marginBottom: '8px', marginTop: '4px' }}>Are you sure you wish to store this credential?</Typography>\n\n        <CredentialCard verifiableCredential={state.vc} />\n\n        <div style={{ marginTop: '32px' }}>\n          <Button onClick={() => {\n            state.event.respondWith(new Promise(resolve => {\n              return resolve({ dataType: 'Response', data: 'canceled' });\n            }))\n          }}>Cancel</Button>\n\n          <Button style={{ float: 'right' }} variant={'contained'} color={'primary'} onClick={() => {\n\n            props.storeInWallet(state.credential.data);\n            state.event.respondWith(new Promise(resolve => {\n              return resolve({ dataType: 'Response', data: 'result' });\n            }))\n          }}>Confirm</Button>\n        </div>\n\n      </div>\n    </Theme>\n  )\n};\n\nChapiWalletStore.propTypes = {\n  tmui: PropTypes.object,\n  setTmuiProp: PropTypes.func\n};\n\nexport default ChapiWalletStore;\n","import React from \"react\";\nimport ChapiWalletStore from \"./ChapiWalletStore\";\n\nimport { compose } from \"redux\";\n\nimport chapi from \"../../../../store/chapi\";\nimport tmui from \"../../../../store/tmui\";\nconst container = compose(chapi.container, tmui.container);\n\n\nexport default container(props => {\n  return <ChapiWalletStore {...props} />;\n});\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport Theme from '../../../../components/Theme/Theme'\n\nimport WalletContentsTable from '../../../../components/WalletContentsTable'\n\nconst { WebCredentialHandler, credentialHandlerPolyfill } = window;\n\nconst getHolderAndVerificationMethod = () => {\n  let holder = localStorage.getItem('holder');\n  if (!holder) {\n    holder = 'did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd';\n    localStorage.setItem('holder', holder);\n  }\n  let verificationMethod;\n  switch (holder) {\n    case 'did:web:vc.transmute.world': {\n      verificationMethod = \"did:web:vc.transmute.world#z6MksHh7qHWvybLg5QTPPdG2DgEjjduBDArV9EF9mRiRzMBN\";\n      break;\n    }\n    case 'did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd': {\n      verificationMethod = \"did:key:z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd#z6MkjRagNiMu91DduvCvgEsqLZDVzrJzFrwahc4tXLt9DoHd\";\n      break;\n    }\n    case 'did:elem:ropsten:EiBJJPdo-ONF0jxqt8mZYEj9Z7FbdC87m2xvN0_HAbcoEg': {\n      verificationMethod = \"did:elem:ropsten:EiBJJPdo-ONF0jxqt8mZYEj9Z7FbdC87m2xvN0_HAbcoEg#xqc3gS1gz1vch7R3RvNebWMjLvBOY-n_14feCYRPsUo\";\n      break;\n    }\n    default:\n      throw new Error('unsupported demo holder.')\n  }\n  return { holder, verificationMethod };\n}\n\nconst getDomainAndChallenge = (event) => {\n  let { challenge, domain, query } = event.credentialRequestOptions.web.VerifiablePresentation;\n\n  if (query.challenge) {\n    challenge = query.challenge;\n  }\n\n  if (query.domain) {\n    domain = query.domain;\n  }\n\n  if (!domain) {\n    domain = event.credentialRequestOrigin.split('//').pop()\n  }\n  return { domain, challenge };\n}\n\nconst ChapiWalletGet = (props) => {\n  const [state, setState] = React.useState({\n    event: {},\n    query: {}\n  })\n  React.useEffect(() => {\n    credentialHandlerPolyfill\n      .loadOnce()\n      .then(() => {\n        if (!props.chapi.wallet.isLoaded) {\n          props.loadWalletContents();\n        }\n      })\n  }, [])\n\n  React.useEffect(() => {\n    async function handleGetEvent() {\n      const event = await WebCredentialHandler.receiveCredentialEvent();\n      console.log('Wallet processing get() event:', event);\n      const vp = event.credentialRequestOptions.web.VerifiablePresentation;\n      const query = Array.isArray(vp.query) ? vp.query[0] : vp.query;\n\n\n\n      if (query.type === 'DIDAuth') {\n        // TODO: Sign Presentation...\n        const endpoint = 'https://vchttpapi.essif.adaptivespace.io/v0.1.0/prove/presentations'\n        const { holder, verificationMethod } = getHolderAndVerificationMethod();\n        const { domain, challenge } = getDomainAndChallenge(event);\n\n        const response = await fetch(endpoint, {\n          method: 'POST',\n          mode: 'cors',\n          cache: 'no-cache',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          redirect: 'follow',\n          referrerPolicy: 'no-referrer',\n          body: JSON.stringify({\n            presentation: {\n              \"@context\": \"https://www.w3.org/2018/credentials/v1\",\n              \"type\": \"VerifiablePresentation\",\n              holder,\n            }, options: {\n              proofPurpose: \"authentication\",\n              domain,\n              challenge,\n              verificationMethod\n            }\n          })\n        });\n\n        let signedDIDAuthResponse = await response.json();\n        props.storeInWallet(signedDIDAuthResponse);\n\n      }\n\n      setState({\n        ...state,\n        event,\n        query\n      })\n    }\n    credentialHandlerPolyfill\n      .loadOnce()\n      .then(handleGetEvent);\n  }, [])\n\n  return (\n    <Theme>\n      <div style={{ height: '100%', padding: '8px' }}>\n        <Typography style={{ marginBottom: '8px', marginTop: '4px' }}>\n          {state.event.credentialRequestOrigin} has requested a {state.query.type}.\n          </Typography>\n\n        <WalletContentsTable credentialRequestOptions={state.event.credentialRequestOptions} walletRows={props.walletObjectToArray(props.chapi.wallet.object)} onShare={async (thing) => {\n          let vp = thing;\n          const { holder, verificationMethod } = getHolderAndVerificationMethod();\n          if (thing.type !== 'VerifiablePresentation') {\n            vp = {\n              \"@context\": [\n                \"https://www.w3.org/2018/credentials/v1\",\n                \"https://www.w3.org/2018/credentials/examples/v1\"\n              ],\n              holder,\n              \"type\": \"VerifiablePresentation\",\n              \"verifiableCredential\": [thing]\n            }\n          }\n\n          if (!vp.proof) {\n            // /v0.1.0​/prove​/presentations\n            const endpoint = 'https://vchttpapi.essif.adaptivespace.io/v0.1.0/prove/presentations'\n            const { domain, challenge } = getDomainAndChallenge(state.event);\n            const response = await fetch(endpoint, {\n              method: 'POST',\n              mode: 'cors',\n              cache: 'no-cache',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              redirect: 'follow',\n              referrerPolicy: 'no-referrer',\n              body: JSON.stringify({\n                presentation: vp, options: {\n                  proofPurpose: \"authentication\",\n                  domain,\n                  challenge,\n                  verificationMethod\n                }\n              })\n            });\n            vp = await response.json();\n          }\n\n\n          state.event\n            .respondWith(Promise.resolve({\n              dataType: 'VerifiablePresentation', data: vp\n            }));\n        }} />\n\n      </div>\n    </Theme>\n  )\n};\n\nChapiWalletGet.propTypes = {\n  tmui: PropTypes.object,\n  setTmuiProp: PropTypes.func\n};\n\nexport default ChapiWalletGet;\n","import HomePage from \"./HomePage\";\nimport KeystorePage from \"./KeystorePage\";\nimport ChapiWalletStore from \"./chapi/wallet/store\";\nimport ChapiWalletGet from \"./chapi/wallet/get\";\n\nexport const PAGES = [\n  { path: \"/\", exact: true, component: HomePage },\n  { path: \"/chapi/wallet/store\", exact: true, component: ChapiWalletStore },\n  { path: \"/chapi/wallet/get\", exact: true, component: ChapiWalletGet },\n  { path: \"/keystore\", exact: true, component: KeystorePage }\n];\n","import React from \"react\";\nimport ChapiWalletGet from \"./ChapiWalletGet\";\n\nimport { compose } from \"redux\";\n\nimport tmui from \"../../../../store/tmui\";\nimport chapi from \"../../../../store/chapi\";\n\nconst container = compose(chapi.container, tmui.container);\n\nexport default container(props => {\n  return <ChapiWalletGet {...props} />;\n});\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport { persistStore, persistReducer } from \"redux-persist\";\nimport { routerMiddleware } from \"connected-react-router\";\nimport storage from \"redux-persist/lib/storage\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport withReduxEnhancer from \"addon-redux/enhancer\";\n\nimport rootReducer from \".\";\nimport history from \"./history\";\n\nexport default (appReducers = {}) => {\n  // Persistance configuration\n  const persistConfig = {\n    key: \"root\",\n    whitelist: [\"keystore\"], // TODO: UPDATE PLACEHOLDER\n    storage\n  };\n\n  const middlewares = [thunk, routerMiddleware(history)];\n\n  // TODO: refactor for production\n  if (process.env.NODE_ENV !== \"production\") {\n    // const reduxListener = createStorybookListener();\n    // middlewares.push(reduxListener);\n  }\n\n  // Store.\n  const store = createStore(\n    persistReducer(\n      persistConfig,\n      combineReducers({ ...rootReducer, ...appReducers })\n    ),\n    composeWithDevTools(\n      compose(applyMiddleware(...middlewares), withReduxEnhancer)\n    )\n  );\n\n  // Persistor.\n  const persistor = persistStore(store);\n  return {\n    store,\n    persistor,\n    history\n  };\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\n\nimport { Switch, Route } from \"react-router-dom\";\nimport { ConnectedRouter } from \"connected-react-router\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/lib/integration/react\";\n\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport createStore from \"./store/create\";\n\nimport { PAGES } from \"./pages\";\n\nconst { store, persistor, history } = createStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={persistor}>\n      <ConnectedRouter history={history}>\n        <Switch>\n          {PAGES.map(({ exact, path, component }) => (\n            <Route key={path} exact={exact} path={path} component={component} />\n          ))}\n        </Switch>\n      </ConnectedRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}